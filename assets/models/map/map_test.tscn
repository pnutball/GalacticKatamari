[gd_scene load_steps=11 format=3 uid="uid://ck346mxns8kjs"]

[ext_resource type="ArrayMesh" uid="uid://btew1l5lshv5x" path="res://assets/models/map/map_test.tres" id="1_s7u0d"]
[ext_resource type="Material" uid="uid://dgk08iqdw5opg" path="res://assets/materials/grass00c.tres" id="2_ttjmk"]
[ext_resource type="Material" uid="uid://cq4hj1hxfmyye" path="res://assets/materials/ground00a.tres" id="3_l2lab"]
[ext_resource type="Material" uid="uid://bdjdq1sus7b7g" path="res://assets/materials/ground00d.tres" id="4_gw6rg"]
[ext_resource type="Material" uid="uid://dqi5bobv0efki" path="res://assets/textures/material/wall00a.tres" id="5_54dv8"]
[ext_resource type="ArrayMesh" uid="uid://cxuy6ugwpor4f" path="res://assets/models/map/map_test_hit.tres" id="6_eic3s"]
[ext_resource type="Shader" path="res://assets/materials/shaders/KDWater.gdshader" id="7_5dbwr"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_ej3bm"]
data = PackedVector3Array(0.3, 0, 1.5, 0.3, 0, 2, -0.5, 0, 2, -0.5, 0, -2, -0.5, 0, 2, -1, 0.1, 2, -1, 0.1, 2, -1.1, 0.1, 2, -1.1, 0.1, 0, -1.1, 0.1, 2, -1.1, 1.009, 2, -1.1, 1.009, 1.0833, -1.7, 0.1, 2, -1.7, 0.1, 0, -1.7, 0.5837, 1.3289, -2, 0.6, -2, -2, -0.2, -2, -2, -0.2, 2, -1.1, 1.009, 1.0833, -1.1, 1.009, 2, -1.3, 1.009, 2, -1.9, 0.1, 0, -1.7, 0.1, 0, -1.7, 0.3456, 1.3927, -2, -0.2, 2, 1.9999, -0.2, 2, 1.9999, 0.9, 2, -2, -0.2, -2, 1.9999, -0.2, -2, 1.9999, -0.7, -2, -1.9, 0.1, 0, -1.9, 0.1, 2, -2, 0.1, 2, 1.9999, 0.2, -2, 1.9999, -0.2, -2, -2, -0.2, -2, -1.3, 0.1, 2, -1.3, 0.1, 0, -1.3, 1.009, 1.0833, -1.3, 0.1, 0, -1.1, 0.1, 0, -1.1, 1.009, 1.0833, -1.3, 0.8071, 1.2247, -1.3, 0.8071, 2, -1.5001, 0.8071, 2, -1.5001, 0.1, 0, -1.3, 0.1, 0, -1.3, 0.8071, 1.2247, -1.5001, 0.1, 2, -1.5001, 0.1, 0, -1.5001, 0.8071, 1.2247, -1.5001, 0.5837, 1.3289, -1.5001, 0.5837, 2, -1.7, 0.5837, 2, -1.7, 0.1, 0, -1.5001, 0.1, 0, -1.5001, 0.5837, 1.3289, -1.7, 0.3456, 1.3927, -1.7, 0.3456, 2, -1.9, 0.3456, 2, -1.9, 0.1, 2, -1.9, 0.1, 0, -1.9, 0.3456, 1.3927, 0.3, 0, 2, 0.3, 0, 1.5, 1, 0, 1.5, 0.3, 0, 1.5, -0.5, 0, -2, 1, 0, -2, 1, 0, 2, 1, 0, 1.5, 2, 0, 1.5, 1, 0, 1.5, 1, 0, -2, 1, -0.2, -2, 2, 0, 1.5, 1, 0, 1.5, 1, -0.8, -0.7001, 1, -0.2, 1.5, 1, -0.2, -2, 1.017, -0.3294, -2, 1.0669, -0.45, 1.5, 1.0669, -0.45, -2, 1.1464, -0.5536, -2, 1.017, -0.3294, 1.5, 1.017, -0.3294, -2, 1.0669, -0.45, -2, 1.1464, -0.5536, 1.5, 1.1464, -0.5536, -2, 1.25, -0.633, -2, 1.3705, -0.683, 1.5, 1.3705, -0.683, -2, 1.5, -0.7, -2, 1.25, -0.633, 1.5, 1.25, -0.633, -2, 1.3705, -0.683, -2, 1.5, -0.7, 1.5, 1.5, -0.7, -2, 1.6294, -0.683, -2, 1.75, -0.633, 1.5, 1.75, -0.633, -2, 1.8535, -0.5536, -2, 1.6294, -0.683, 1.5, 1.6294, -0.683, -2, 1.75, -0.633, -2, 1.933, -0.45, 1.5, 1.933, -0.45, -2, 1.9829, -0.3294, -2, 1.8535, -0.5536, 1.5, 1.8535, -0.5536, -2, 1.933, -0.45, -2, 1.9829, -0.3294, 1.5, 1.9829, -0.3294, -2, 1.9999, -0.2, -2, 1.9999, -0.2, 2, 1.9999, -0.2, -2, 1.9999, 0.2, -2, -1.7, 0.1, 0, -2, 0.1, -2, -1.5001, 0.1, -2, -1.3, 0.1, 0, -1.5001, 0.1, -2, -1, 0.1, -2, -1.1, 0.1, 0, -1.3, 0.1, 0, -1, 0.1, -2, -2, 0.1, -2, -1.7, 0.1, 0, -1.9, 0.1, 0, -1.5001, 0.1, -2, -1.5001, 0.1, 0, -1.7, 0.1, 0, -1.5001, 0.1, -2, -1.3, 0.1, 0, -1.5001, 0.1, 0, 0.3, 0, 1.5, -0.5, 0, 2, -0.5, 0, -2, -0.5, 0, -2, -1, 0.1, 2, -1, 0.1, -2, -1, 0.1, 2, -1.1, 0.1, 0, -1, 0.1, -2, -1.1, 0.1, 2, -1.1, 1.009, 1.0833, -1.1, 0.1, 0, -1.7, 0.1, 2, -1.7, 0.5837, 1.3289, -1.7, 0.5837, 2, -2, 0.6, -2, -2, -0.2, 2, -2, 1.4, 2, -1.1, 1.009, 1.0833, -1.3, 1.009, 2, -1.3, 1.009, 1.0833, -1.9, 0.1, 0, -1.7, 0.3456, 1.3927, -1.9, 0.3456, 1.3927, -2, -0.2, 2, 1.9999, 0.9, 2, -2, 1.4, 2, -2, -0.2, -2, 1.9999, -0.7, -2, -2, -0.7, -2, -1.9, 0.1, 0, -2, 0.1, 2, -2, 0.1, -2, 1.9999, 0.2, -2, -2, -0.2, -2, -2, 0.6, -2, -1.3, 0.1, 2, -1.3, 1.009, 1.0833, -1.3, 1.009, 2, -1.3, 0.1, 0, -1.1, 1.009, 1.0833, -1.3, 1.009, 1.0833, -1.3, 0.8071, 1.2247, -1.5001, 0.8071, 2, -1.5001, 0.8071, 1.2247, -1.5001, 0.1, 0, -1.3, 0.8071, 1.2247, -1.5001, 0.8071, 1.2247, -1.5001, 0.1, 2, -1.5001, 0.8071, 1.2247, -1.5001, 0.8071, 2, -1.5001, 0.5837, 1.3289, -1.7, 0.5837, 2, -1.7, 0.5837, 1.3289, -1.7, 0.1, 0, -1.5001, 0.5837, 1.3289, -1.7, 0.5837, 1.3289, -1.7, 0.3456, 1.3927, -1.9, 0.3456, 2, -1.9, 0.3456, 1.3927, -1.9, 0.1, 2, -1.9, 0.3456, 1.3927, -1.9, 0.3456, 2, 0.3, 0, 2, 1, 0, 1.5, 1, 0, 2, 0.3, 0, 1.5, 1, 0, -2, 1, 0, 1.5, 1, 0, 2, 2, 0, 1.5, 2, 0, 2, 1, 0, 1.5, 1, -0.2, -2, 1, -0.2, 1.5, 2, 0, 1.5, 1, -0.8, -0.7001, 2, -0.8, -0.7001, 1, -0.2, 1.5, 1.017, -0.3294, -2, 1.017, -0.3294, 1.5, 1.0669, -0.45, 1.5, 1.1464, -0.5536, -2, 1.1464, -0.5536, 1.5, 1.017, -0.3294, 1.5, 1.0669, -0.45, -2, 1.0669, -0.45, 1.5, 1.1464, -0.5536, 1.5, 1.25, -0.633, -2, 1.25, -0.633, 1.5, 1.3705, -0.683, 1.5, 1.5, -0.7, -2, 1.5, -0.7, 1.5, 1.25, -0.633, 1.5, 1.3705, -0.683, -2, 1.3705, -0.683, 1.5, 1.5, -0.7, 1.5, 1.6294, -0.683, -2, 1.6294, -0.683, 1.5, 1.75, -0.633, 1.5, 1.8535, -0.5536, -2, 1.8535, -0.5536, 1.5, 1.6294, -0.683, 1.5, 1.75, -0.633, -2, 1.75, -0.633, 1.5, 1.933, -0.45, 1.5, 1.9829, -0.3294, -2, 1.9829, -0.3294, 1.5, 1.8535, -0.5536, 1.5, 1.933, -0.45, -2, 1.933, -0.45, 1.5, 1.9829, -0.3294, 1.5, 1.9999, -0.2, -2, 1.9999, -0.2, 2, 1.9999, -0.2, 2, 1.9999, 0.2, -2, 1.9999, 0.9, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_e4jke"]
render_priority = 0
shader = ExtResource("7_5dbwr")
shader_parameter/water_depth = 0.5
shader_parameter/water_color = Vector3(0, 92, 136)
shader_parameter/shore_color = Vector3(44, 163, 211)
shader_parameter/steps = 3

[sub_resource type="QuadMesh" id="QuadMesh_rcl16"]
orientation = 1

[node name="map_test" type="MeshInstance3D"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)
layers = 524288
mesh = ExtResource("1_s7u0d")
surface_material_override/0 = ExtResource("2_ttjmk")
surface_material_override/1 = ExtResource("3_l2lab")
surface_material_override/2 = ExtResource("4_gw6rg")
surface_material_override/3 = ExtResource("5_54dv8")

[node name="map_test_hit" type="MeshInstance3D" parent="."]
layers = 0
mesh = ExtResource("6_eic3s")

[node name="map_test_hit_body" type="StaticBody3D" parent="map_test_hit"]
collision_layer = 32768
collision_mask = 0

[node name="map_test_hit_collision" type="CollisionShape3D" parent="map_test_hit/map_test_hit_body"]
shape = SubResource("ConcavePolygonShape3D_ej3bm")

[node name="WaterPlane" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 2.01411, 1.5, -0.541217, -0.994389)
material_override = SubResource("ShaderMaterial_e4jke")
mesh = SubResource("QuadMesh_rcl16")
